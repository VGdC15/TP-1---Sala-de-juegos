<h1>Registrate para comenzar</h1>

@if(formulario !== undefined){

    <form [formGroup]="this.formulario">
        <div>
            <label>E-mail:</label>
            <input type="text" formControlName="email"/>
            @if (formulario.get('email')?.touched && formulario.get('email')?.errors) {
                <div style="color: red; font-size: 0.9rem;">
                  {{ getErrorMensaje('email', 'required') }}
                  {{ getErrorMensaje('email', 'minlength') }}
                  {{ getErrorMensaje('email', 'maxlength') }}
                </div>
            }  

            @if (this.seIntentoGuardar && this.errorRegistro) {
                <div style="color: red; font-size: 0.9rem;">
                  {{ this.errorRegistro }}
                </div>
            }                        
        </div>

        <div>
            <label>Nombre:</label>
            <input type="text" formControlName="nombre"/>
            @if (formulario.get('nombre')?.touched && formulario.get('nombre')?.errors) {
                <div style="color: red; font-size: 0.9rem;">
                  {{ getErrorMensaje('nombre', 'required') }}
                  {{ getErrorMensaje('nombre', 'minlength') }}
                  {{ getErrorMensaje('nombre', 'maxlength') }}
                </div>
            }   
        </div>
          
        <div>
            <label>Apellido:</label>
            <input type="text" formControlName="apellido"/>
            @if (formulario.get('apellido')?.touched && formulario.get('apellido')?.errors) {
                <div style="color: red; font-size: 0.9rem;">
                  {{ getErrorMensaje('apellido', 'required') }}
                  {{ getErrorMensaje('apellido', 'minlength') }}
                  {{ getErrorMensaje('apellido', 'maxlength') }}
                </div>
            }
        </div>

        <div>
            <label>Edad:</label>
            <input type="text" formControlName="edad"/>
            @if (formulario.get('edad')?.touched && formulario.get('edad')?.errors) {
                <div style="color: red; font-size: 0.9rem;">
                  {{ getErrorMensaje('edad', 'required') }}
                  {{ getErrorMensaje('edad', 'minlength') }}
                  {{ getErrorMensaje('edad', 'maxlength') }}
                </div>
            }
        </div>

        <div> 
            <label>Password:</label>
            <input type="password" formControlName="password"/>
            @if (formulario.get('password')?.touched && formulario.get('password')?.errors) {
                <div style="color: red; font-size: 0.9rem;">
                  {{ getErrorMensaje('password', 'required') }}
                  {{ getErrorMensaje('password', 'minlength') }}
                </div>
            }
        </div>
        
        <button (click)="borrarForm()">Borrar</button>
        <button (click)="guardarUsuario()" [disabled]="!this.formulario.valid" >Guardar Usuario</button>
    </form>

} 

